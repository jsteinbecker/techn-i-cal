{% load compress %}
{% load static %}

<!DOCTYPE html>

<html lang="en" id="htmlDocument">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" 
			  content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" 
			  content="ie=edge">

		<title> FlowRate {% block title %}{% endblock %} </title>
		
		{% compress css %}
		{# --- FONTS --- #}
			<link rel="stylesheet"
			      href="https://fonts.googleapis.com/css?family=Nanum+Gothic+Coding">
			<link rel="stylesheet"
			      href="https://fonts.googleapis.com/css?family=Dosis">
			<link rel="stylesheet"
			      href="https://fonts.googleapis.com/css?family=JetBrains+Mono">
			<link href="https://rawcdn.githack.com/hung1001/font-awesome-pro-v6/44659d9/css/all.min.css" 
				  rel="stylesheet" type="text/css" />
			<link rel="stylesheet" 
				href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

			<style> 
				{% include 'my.css' %} 
				{% include 'svg-classes.css' %}
				{% include 'table-styles.css' %}
				{% include 'toast.css' %}
				{% include '_context-menu.css' %}
				
				<link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" />
			</style>

			{% block style %} 
			{% endblock %}
			{% comment %} <link href="https://cdn.jsdelivr.net/npm/daisyui@2.31.0/dist/full.css" 
			      rel="stylesheet" 
				  type="text/css"/> {% endcomment %}
			<link rel="stylesheet" 
			       href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css">

			{% comment %} <script type = "text/javascript"   
				   src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">  
			</script>   {% endcomment %}
			

			<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> 
  
				   
		
			
		{% endcompress %}

		{% block head %}{% endblock head %}

	</head>

	<body class="bg-gradient-to-b from-slate-900 through-indigo-900 to-zinc-900">

			{# HEADER #}	
			{% include 'header.html' %}
			{# BANNER #}
			{% include 'banner.html' %} 

			

			<div class="content mx-3 lg:ml-60">

				{% block content %}
				{% endblock %}

			</div>


			<div 
				class=  "toast-wrapper" 
				id=		"toast-wrapper">
			</div>

		
				<script>
					// fx :
					// SHOW TOAST 
					// =================
					function showToast(message, type) {
						//
						// create the toast element
						var toast = document.createElement("div");
						
						// create the toast icon
						toast.classList.add("flex", "items-center", "w-full", "max-w-xs", "p-4", "mb-4", "text-zinc-900", "bg-zinc-200", "rounded-lg")
					
						var icon = document.createElement("i");
						icon.classList.add("fa-duotone font-bold");
						if (type == "success") {
						  icon.classList.add("fa-check-circle");
						  toast.classList.add('bg-green-100', 'text-green-800', 'dark:bg-green-800', 'dark:text-green-100')
						} else if (type == "error") {
						  icon.classList.add("fa-times-circle");
						  oast.classList.add('bg-amber-100', 'text-red-800', 'dark:bg-red-800', 'dark:text-red-100')
						} else if (type == "warning") {
						  icon.classList.add("fa-exclamation-circle");
						  oast.classList.add('bg-amber-100', 'text-amber-800', 'dark:bg-amber-800', 'dark:text-amber-100')
						} else if (type == "info") {
						  icon.classList.add("fa-info-circle");
						  oast.classList.add('bg-blue-100', 'text-blue-800', 'dark:bg-blue-800', 'dark:text-blue-100')
						}
						// create the toast span
						var toastspan = document.createElement("span");
						toastspan.classList.add("toast-span");
						// set the toast type
						if (type == "success") {
						  toastspan.classList.add("toast-span-success");
						} else if (type == "error") {
						  toastspan.classList.add("toast-span-error");
						} else if (type == "warning") {
						  toastspan.classList.add("toast-span-warning");
						} else if (type == "info") {
						  toastspan.classList.add("toast-span-info");
						}
						// add the toast span to the toast
						toast.appendChild(icon);
						toast.appendChild(toastspan);
						// add the toast message to the toast
						toast.appendChild(document.createTextNode(message));
						// add the toast to the wrapper
						var wrapper = document.getElementById("toast-wrapper");
						wrapper.appendChild(toast);
						// slide the toast in from the bottom
						toast.style.bottom = "-8x";
						toast.style.opacity = 0;
						setTimeout(function() {
						  toast.style.bottom = "20px";
						  toast.style.opacity =0.85;
						}, 50);
						// remove the toast after 5 seconds
						setTimeout(function() {
						  wrapper.removeChild(toast);
						}, 8000);
					  }

					function mouseOverToast (toast) {
						// reset the time unitl removeChild 
						toast.style.opacity = 1;
						toast.style.transition = "none";
						// remove the toast after 5 seconds
						setTimeout(function() {
						  toast.style.transition = "all 0.5s ease";
						  toast.style.opacity = 0;
						  setTimeout(function() {
							var wrapper = document.getElementById("toast-wrapper");
							wrapper.removeChild(toast);
						  }, 500);
						}, 5000);
					}
					
					// create eventlistener 
					document.addEventListener("DOMContentLoaded", function() {
						// get all the toasts
						var toasts = document.getElementsByClassName("my-toast");
						// loop through the toasts
						for (var i = 0; i < toasts.length; i++) {
						  // add eventlistener to each toast
						  toasts[i].addEventListener("mouseover", function() {
							mouseOverToast(this);
						  });
						}
					  });



					
					  
				</script>
				

				

				<section class='m-3'>
				</section>
				
				{# TAILWINDCSS #}
				<script src="https://cdn.tailwindcss.com"></script>
				{# FLOWBITE #}
				<script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
				{# HTMX #}
				<script src="https://unpkg.com/htmx.org"></script>
				{# HYPERSCRIPT #}
				<script src="https://unpkg.com/hyperscript.org"></script>

				<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  
				{% if messages %}
					{% for msg in messages %}
						<script>
							showToast ("{{ msg }}", "{{ msg.tags.0 }}");
						</script>
					{% endfor %}
				{% endif %}
			


				
			</div>

			{% block body %}
			{% endblock %}

			{# FOOTER #}
			{% include 'footer.html' %}
			
			
	</body>


</html>
