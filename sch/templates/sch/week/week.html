{% extends 'base.html' %}
{% load render_table from django_tables2 %}
{% load tags %}


{% block content %}

<a href="/sch/day/all/">Back to Days</a>

<div class="hstack">
    <a href="/sch/week/{{year}}/{{prevWeek}}/"><</a>
    <h1> Week {{week_num}} </h1>
    <a href="/sch/week/{{year}}/{{nextWeek}}/">></a>
</div>


<a href="fill-template/">Fill Templated Slots for Week</a>

{% if total_unfilled != 0 %}
<p>
    {{total_unfilled}} unfilled slots for this week
</p>
{% endif %}

<div class="hstack">
    {% for day in workdays %}
        <div class="panel">
            <h3>
                <a href="/sch/day/{{day.slug}}"> {{day}} </a>
            </h3>
            
            {{ day.table }}
            
        </div>
    {% endfor %}
</div>

<div class="panel w-fc mt-10">
    <h3>Weekly Hours</h3>
    <div class="grid-3-row">
        {% for empl in hrsTable %}
        <div>{% if empl.1.hours <= 40 %} <span class="green-glow">{{empl.0 }}</span> 
            {% else %} <span class="red-glow">{{empl.0 }}</span> {% endif %}
            <span>{{ empl.1.hours }} hrs. </span>
        </div>
        {% endfor %}
    </div>
</div>



{% endblock content %}

    