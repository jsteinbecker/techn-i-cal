{% extends 'base.html' %}
{% load render_table from django_tables2 %}
{% load tags %}


{% block content %}

<a href="/sch/day/all/">Back to Days</a>
<div class="panel hstack">
    <div class="hstack">
        <a href="/sch/week/{{year}}/{{prevWeek}}/">{% backArrow %}</a>
        <h1> Week {{week_num}} </h1>
        <a href="/sch/week/{{year}}/{{nextWeek}}/">{% forwardArrow %}</a>
    </div>


    <a style="float:left;" href="fill-template/" title="Fill Templated Slots">
        {% fillTemplateIcon %} 
    </a>
    <a href="solve/" title="Run Assignment Solver">
        {% solveIcon %}
    </a>
</div>



<div class="hstack">
    {% for day in workdays %}
        <div class="panel" style="height:320px;">
            <div style="float:right;">{% nDaysAwaySmall day.date %}</div>
            <h3 style="color:orange;font-family:Raleway;font-size:24px;">
                <a href="/sch/day/{{day.slug}}"> {{day.date}} </a>
            </h3>
            
            {{ day.table }}
            
        </div>
    {% endfor %}
</div>

<div class="panel w-fc mt-10">
    <div class="hstack">
        <h3>Weekly Hours</h3>
        {% if total_unfilled != 0 %}
            <a href="unfilled-slots/">{{total_unfilled}} unfilled slots for this week</a>
        {% endif %}
    </div>
    <div class="grid-3-row">
        {% for empl in hrsTable %}
        <div>
             {% if empl.1.hours <= 40 %} <span class="green-glow">{{empl.0 }}</span> 
             {% else %}                  <span class=  "red-glow">{{empl.0 }}</span>  {% endif %}
                                         <span>                   {{ empl.1.hours }} hrs. </span>
        </div>
        {% endfor %}
    </div>
</div>



{% endblock content %}

    